\begin{tikzpicture}
  \begin{axis}[                    
  ybar,    
  ymin=0,
  %height=7cm,
  scaled y ticks=false,
  y tick label style={
    /pgf/number format/fixed,
  },
  width=\columnwidth,
  legend image code/.code={
    \draw[#1, draw=none] (0cm,-0.1cm) rectangle (0.5cm,0.3cm);
  },
  legend style={
    at={(0.85,0.99)},
    anchor=north,
    legend columns=1,
    draw=black,
    fill=white,
    thick
  },
  ylabel={Execution Time (s)},
  symbolic x coords={Total,Conv1,L1,L2,L3,L4,FC},
  xtick=data,
  nodes near coords,
  scaled x ticks=false,
  nodes near coords style={
    font=\normalsize,
    anchor=west,
    rotate=90,
    inner xsep=1pt,
    /pgf/number format/.cd,
    fixed,
    precision=5,
    /tikz/every node/.append style={xshift=0.2cm}
  },
  enlarge x limits=0.09,
  bar width=0.4cm,
  ]
  \addplot[pattern=north west lines,pattern color=black, fill=blue!20, postaction={pattern=north east lines}] coordinates {(Total, 0.29)(Conv1, 0.023)(L1, 0.021)(L2, 0.011)(L3, 0.009)(L4, 0.0015)(FC, 0.0001)};

  \addplot[pattern=north east lines,pattern color=black,fill=green!40, postaction={pattern=dots}] coordinates {(Total, 0.18)(Conv1, 0.0025)(L1, 0.0024)(L2, 0.0019)(L3, 0.0019)(L4, 0.0009)(FC, 0.0009)};
  %GPU
  \addplot[pattern=dots,pattern color=black,fill=red!30, postaction={pattern=grid}] coordinates {(Total, 0.19) (Conv1, 0.0034)(L1, 0.0034)(L2, 0.0021)(L3,0.0019)(L4, 0.0009)(FC, 0.0009)};
  %FPGA
  
  \legend{CPU: 5900X,GPU: 3070,FPGA: ZCU102}
  \end{axis}
\end{tikzpicture}
